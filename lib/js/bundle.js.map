{"version":3,"sources":["webpack:///webpack/bootstrap 790725b6de9d660e0a5d","webpack:///./lib/js/main.js","webpack:///./lib/js/drum_machine.js","webpack:///./lib/js/drum_loop.js","webpack:///./lib/js/instruments.js"],"names":["document","addEventListener","drumMachine","drumLoop","$power","$","$start_stop","$volume","$reset","$bpm","power_on","playing","bpm","val","change","e","currentTarget","value","click","clearBoard","clearInterval","playloop","reset","removeClass","toggleClass","play","setTimeout","loop","DrumMachine","createGrid","BUTTONS","SOUNDS","BD","SD","CH","OH","CL","CP","i","$row","j","$beat","hasClass","children","audio","append","appendTo","length","DrumLoop","currentNote","stopPlay","bind","column","addClass","sound","pause","currentTime","$li","$div","instruments","list","$instruments","getElementById","$name"],"mappings":"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","file":"./lib/js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 790725b6de9d660e0a5d","import DrumMachine from './drum_machine';\nimport DrumLoop from './drum_loop';\nimport {instruments} from './instruments';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n  // const context = new AudioContext();\n  // const mediaSD = document.getElementById(\"SD\");\n  // const sourceSD = context.createMediaElementSource(mediaSD);\n  // const gainNode = context.createGain();\n  // gainNode.gain.value = volConvert(slider.value);\n  // sourceSD.connect(gainNode);\n  // gainNode.connect(context.destination);\n  //\n  // slider.addEventListener('change', () => {\n  //   gainNode.gain.value = volConvert(slider.value);\n  // }, false);\n\n\n  const drumMachine = new DrumMachine();\n  const drumLoop = new DrumLoop();\n  instruments();\n\n  const $power = $(\"#power\");\n  const $start_stop = $(\".start_stop\");\n  const $volume = $(\".volume\");\n  const $reset = $('.reset');\n  const $bpm = $(\".bpm\");\n\n\n  let power_on = false;\n  let playing = false;\n  let bpm = $('input').val();\n\n  $bpm.change((e) => {\n    bpm = 15000/e.currentTarget.value;\n  });\n\n  $reset.click(() => {\n    drumLoop.clearBoard();\n  });\n\n  $power.click(() => {\n    if (power_on === true) {\n      clearInterval(playloop);\n      playing = false;\n      drumLoop.reset();\n      drumLoop.clearBoard();\n      power_on = false;\n      $power.removeClass('on');\n    } else {\n      clearInterval(playloop);\n      drumLoop.reset();\n      drumLoop.clearBoard();\n      power_on = true;\n      $power.toggleClass('on');\n    }\n  });\n\n  $start_stop.click(() => {\n    if (power_on === true) {\n      if (playing === true) {\n        playing = false;\n        clearInterval(playloop);\n        drumLoop.reset();\n      } else {\n        playing = true;\n        play();\n      }\n    }\n  });\n\n\n  let playloop;\n\n  const play = () => {\n    playloop = setTimeout(() => {\n      drumLoop.loop(bpm);\n      if (playing) {\n        play();\n      }\n    }, bpm);\n  };\n\n  play();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/main.js","class DrumMachine {\n  constructor() {\n    this.createGrid();\n  }\n\n  createGrid() {\n    const BUTTONS = 16;\n    const SOUNDS = [BD, SD, CH, OH, CL, CP];\n\n    for (let i = 0; i < SOUNDS.length; i++) {\n      let $row = $(`<ul class='row'>`);\n      for (let j = 0; j < BUTTONS; j++) {\n        let $beat = $(`<li class='col${j}'><div class='led'></li>`);\n        $beat.click(() => {\n          if ($(\".power\").hasClass('on')) {\n            $beat.toggleClass('on');\n            $beat.children().toggleClass('on');\n            let audio = SOUNDS[i];\n            if ($beat.hasClass(\"on\")) {\n              audio.play();\n            }\n          }\n        });\n\n        $row.append($beat);\n      }\n      $row.appendTo('.drummachine');\n    }\n  }\n}\n\nexport default DrumMachine;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/drum_machine.js","class DrumLoop {\n  constructor() {\n    this.currentNote = 0;\n    this.stopPlay = this.stopPlay.bind(this);\n  }\n\n  loop(bpm) {\n    const SOUNDS = [BD, SD, CH, OH, CL, CP];\n\n    let column = $(`li.col${this.currentNote}`);\n      column.addClass('active');\n      setTimeout(() => column.removeClass('active'), bpm);\n\n      for (let i = 0; i < column.length; i++) {\n        let audio = $(column[i]);\n        if (audio.hasClass('on')) {\n          let sound = SOUNDS[i];\n          this.stopPlay(sound);\n          sound.play();\n        }\n      }\n\n      this.currentNote++;\n    if (this.currentNote > 15) {\n      this.currentNote = 0;\n    }\n  }\n\n  stopPlay(sound) {\n    sound.pause();\n    sound.currentTime = 0;\n  }\n\n  clearBoard() {\n    let $li = $(\"li\");\n    if ($li.hasClass(\"on\")) {\n      $li.removeClass(\"on\");\n    }\n    let $div = $('div');\n    if ($div.hasClass(\"on\")) {\n      $div.removeClass(\"on\");\n    }\n  }\n\n  reset() {\n    this.currentNote = 0;\n  }\n}\n\n\n\nexport default DrumLoop;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/drum_loop.js","export const instruments = () => {\n  const list = ['Bass Drum', 'Snare Drum', 'Closed Hi hat', 'Open Hi hat', 'CLaves', 'ClaP'];\n  let $instruments = document.getElementById('instruments');\n  for (let i = 0; i < list.length; i++) {\n    let $name = $(`<li>${list[i]}</li>`);\n    $instruments.append($name[0]);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/js/instruments.js"],"sourceRoot":""}